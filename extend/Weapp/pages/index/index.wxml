<view class="page">
  <!--轮播图  -->
  <view class="posR">
    <swiper class="swiper"  autoplay="true" interval="5000" duration="1000">    
      <block wx:for="{{movies}}" wx:for-index="index" wx:key="k">    
          <swiper-item>    
            <image src="{{item.url}}" class="slide-image" mode="aspectFill"/>    
          </swiper-item>    
      </block>    
    </swiper>
     <!-- 固定头部定位 -->
    <view class="search" >
      <view class="weui-search-bar__form" bindtap='gotoLocation'>
        <image src='../../dist/images/location.png'></image>
        <view class="locationMsg">获取地理位置中</view>
      </view>
    </view>
  </view>
  <!--搜索条件  -->

  <view class="page__bd">
        <view class="weui-tab">
            <view class="weui-navbar">
                <block wx:for="{{tabs}}" wx:key="*this">
                    <view id="{{index}}" class="weui-navbar__item {{activeIndex == index ? 'weui-bar__item_on' : ''}}" bindtap="tabClick">
                        <view class="weui-navbar__title">{{item}}  <text class="label"></text></view>
                    </view>
                </block>
            </view>
            <!-- 背景层 -->
            <view class="commodity_screen" bindtap='hideModal' wx:if="{{showModalStatus}}"></view>
            <view class="weui-tab__panel" wx:if="{{showModalStatus}}">
                <view class="weui-tab__content" hidden="{{activeIndex != 0}}">
                  <!--主体盒子  -->
                   <view class="containerBox">
                   <!--左边内容区域  -->
                    <view class="nav_left">
                      <block wx:for="{{minxian}}" wx:key="k">
                        <view class="nav_list_items {{minxianIndex == item.index ? 'active' : ''}}" bindtap='selectMinxian' data-minxianename="{{item.minxianename}}" data-index="{{item.index}}">{{item.cname}}</view>
                      </block> 
                    </view>
                      <!-- 右边显示区域 -->
                      <view class="nav_right">
                      <!-- 需要先判断 是否为空 -->
                        <block wx:for="{{hm_min_xian[minxianename]}}" wx:key="i" wx:for-index="k">
                          <scroll-view class="nav_right_items {{hm_min_xian_id == item.id ? 'listActive' : ''}}" data-id="{{item.id}}" bindtap='selectMinxianId'>{{item.town_village}}</scroll-view>
                        </block> 
                      </view> 
                   </view>
                </view>
                <view class="weui-tab__content" hidden="{{activeIndex != 1}}">
                  <!-- 租金 -->
                  <block wx:for="{{rent}}" wx:for-index="k" wx:for-item="v" wx:key="i">
                    <view class="list {{rentIndex == k ? 'listActive' : ''}} " data-index="{{k}}" data-start="{{v.start}}" data-end="{{v.end}}" bindtap="tapRent">{{v.key}}</view>
                  </block>
                </view>
                <view class="weui-tab__content" hidden="{{activeIndex != 2}}">
                    <!-- 房型 -->
                  <view class="fxBox">
                    <view class="fxBox_title">卧室</view>
                      <checkbox-group class='fxBox_bd' bindchange="checkChangeBedroom">
                        <label wx:for="{{bedroom}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                      </checkbox-group>
                  </view>
                  <view class="fxBox">
                    <view class="fxBox_title">卫生间</view>
                    <checkbox-group class='fxBox_bd' bindchange="checkChangeToilet">
                        <label wx:for="{{toilet}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                    </checkbox-group>
                  </view>
                  <view class="fxBox">
                    <button class="weui-btn mini-btn marginRight20"  size="mini" bindtap='reset'>重置</button>
                    <button class="weui-btn mini-btn" type="primary" size="mini" bindtap="houseTypeSearch">确定</button> 
                  </view>
                </view>
                
                <view class="weui-tab__content" hidden="{{activeIndex != 3}}">
                  <!--朝向，楼层 装修 居室 方式 面积等 -->
                  <view class="fxBox">
                    <view class="fxBox_title">朝向</view>
                      <checkbox-group class='fxBox_bd' bindchange="checkChangeOrientation">
                        <label wx:for="{{orientation}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                      </checkbox-group>
                  </view>

                  <!--<view class="fxBox">
                    <view class="fxBox_title">建筑面积（平方米）</view>
                      <checkbox-group class='fxBox_bd' bindchange="checkChangeCoveredArea">
                        <label wx:for="{{covered_area}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                      </checkbox-group>
                  </view>-->
             
                  <!--<view class="fxBox">
                    <view class="fxBox_title">楼层</view>
                      <checkbox-group class='fxBox_bd' bindchange="checkChangeFloor">
                        <label wx:for="{{floor}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                      </checkbox-group>
                  </view>-->

                  <view class="fxBox">
                    <view class="fxBox_title">装修</view>
                      <checkbox-group class='fxBox_bd' bindchange="checkChangeUpfitter">
                        <label wx:for="{{upfitter}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.key}}</label>
                        </label>
                      </checkbox-group>
                  </view>
                 
                  <view class="fxBox">
                    <view class="fxBox_title">出租方式</view>
                      <radio-group class='fxBox_bd' bindchange="checkChangeManner">
                        <label wx:for="{{hm_lease_manner}}" wx:key="*this" class="fxBox_bd_list {{item.checked?'listCctive':''}}">
                          <checkbox value="{{index}}" checked="{{item.checked}}" hidden="true"></checkbox>
                          <label class="fxBox_title">{{item.cname}}</label>
                        </label>
                      </radio-group>
                  </view>
                  
                  <view class="fxBox">
                    <button class="weui-btn mini-btn marginRight20"  size="mini" bindtap='resetMore'>重置</button>
                    <button class="weui-btn mini-btn" type="primary" size="mini" bindtap="moreSearch">确定</button> 
                  </view>
                </view>
            </view>
        </view>
  </view>
  <!-- 详情列表 -->
  <view class="page__bd marginTop50">
        <view class="weui-panel weui-panel_access">
            <view class="weui-panel__bd" >
              <!--先判断是否有数据-->
              <view wx:if="{{hm_landlord_rent}}">
                <scroll-view scroll-y wx:for="{{hm_landlord_rent}}" wx:key="k" wx:for-item="v" wx:for-index="i" >
                  <view bindtap='gotoDetail' class="weui-media-box weui-media-box_appmsg" data-hmlrid="{{v.id}}" hover-class="weui-cell_active" >
                      <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
                          <image class="weui-media-box__thumb" src="{{domain}}{{v.hm_housing_resource_id.hm_view_images.path}}" />
                      </view>
                      <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
                          <view class="weui-media-box__title">{{v.hm_housing_resource_id.title}}</view>
                          <view class="weui-media-box__desc">{{v.hm_basics_id.hm_house_type_id.habitable_room}}室{{v.hm_basics_id.hm_house_type_id.living_room}}厅/{{v.hm_basics_id.area}}㎡/{{v.hm_lease_id.hm_lease_manner}}/{{v.hm_housing_resource_id.title}}</view>
                          <view class="weui-media-box__desc">
                            <!-- 判断标签 --> 
                          <text class="lebalStyleDT lebalSty" wx:for="{{v.hm_housing_resource_id.trait}}" wx:key="k" wx:for-index="i">{{item}}</text>

                          </view>
                          <view class="weui-media-box__desc red">
                              {{v.hm_lease_id.rent}}元/月
                          </view>
                      </view>
                  </view>
                </scroll-view>
              </view>
               <view wx:else>
                <view class="errorMsg">暂无数据~~~</view>
               </view> 
            </view>
        </view>
  </view>


 

</view>